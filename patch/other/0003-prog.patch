From 12cd6e2a3c5dada70e4898b409a0a953a13b643d Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?=D0=A1=D0=BE=D1=81=D0=BD=D0=B0=20=D0=95=D0=B2=D0=B3=D0=B5?=
 =?UTF-8?q?=D0=BD=D0=B8=D0=B9?= <shenja@sosna.zp.ua>
Date: Sun, 2 Oct 2016 18:32:38 +0300
Subject: [PATCH] =?UTF-8?q?=D0=94=D0=BE=D0=B1=D0=B0=D0=B2=D0=B8=D0=BB=20?=
 =?UTF-8?q?=D0=BF=D1=80=D0=BE=D0=B3=D1=80=D0=B0=D0=BC=D0=BD=D0=BD=D1=83?=
 =?UTF-8?q?=D1=8E=20=D1=83=D1=81=D1=82=D0=B0=D0=BD=D0=BE=D0=B2=D0=BA=D1=83?=
 =?UTF-8?q?=20=D1=81=D0=B2=D0=BE=D0=B9=D1=81=D1=82=D0=B2=D0=B0=20=D0=B0?=
 =?UTF-8?q?=D0=B2=D1=82=D0=BE=D0=BF=D0=B5=D1=80=D0=B5=D0=BD=D0=BE=D1=81=20?=
 =?UTF-8?q?#1?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 .../Ext/Module.bsl                                  | 21 ++++++++++++++++++++-
 .../Ext/Form/Module.bsl                             |  2 ++
 .../Ext/Form/Module.bsl                             |  2 ++
 .../Ext/Form/Module.bsl                             |  2 ++
 4 files changed, 26 insertions(+), 1 deletion(-)

diff --git a/cf/CommonModules/МодификацияКонфигурацииПереопределяемый/Ext/Module.bsl b/cf/CommonModules/МодификацияКонфигурацииПереопределяемый/Ext/Module.bsl
index 23f84bf..e2b7e38 100644
--- a/cf/CommonModules/МодификацияКонфигурацииПереопределяемый/Ext/Module.bsl
+++ b/cf/CommonModules/МодификацияКонфигурацииПереопределяемый/Ext/Module.bsl
@@ -16,7 +16,7 @@
 //	см. справочную информацию по событиям управляемой формы.
 //
 Процедура ПриСозданииНаСервере(Форма, Отказ, СтандартнаяОбработка) Экспорт
-	
+	УстановкаАвтоПереносВоВзаимодействиях(Форма, Отказ, СтандартнаяОбработка);
 КонецПроцедуры
 
 // Переопределяемая процедура, вызываемая из одноименного обработчика события формы.
@@ -154,4 +154,23 @@
 
 #Область СлужебныеПроцедурыИФункции
 
+Процедура УстановкаАвтоПереносВоВзаимодействиях(Форма, Отказ, СтандартнаяОбработка)
+	Перем Элемент;
+	
+	Если Форма.ИмяФормы = "Документ.Встреча.Форма.ФормаДокумента"
+		ИЛИ Форма.ИмяФормы = "Документ.ЗапланированноеВзаимодействие.Форма.ФормаДокумента"
+		ИЛИ Форма.ИмяФормы = "Документ.ТелефонныйЗвонок.Форма.ФормаДокумента" Тогда
+		
+		НазванияЭлементов = Новый Структура("Описание, Комментарий");
+		Для каждого Ключ из НазванияЭлементов Цикл 
+			
+			Элемент = Форма.Элементы.Найти(Ключ.Ключ);
+			Если Элемент <> Неопределено Тогда 
+				Элемент.АвтоПереносСтрок = Истина;
+			КонецЕсли;
+		КонецЦикла;
+		
+	КонецЕсли;
+	
+КонецПроцедуры
 #КонецОбласти
diff --git a/cf/Documents/Встреча/Forms/ФормаДокумента/Ext/Form/Module.bsl b/cf/Documents/Встреча/Forms/ФормаДокумента/Ext/Form/Module.bsl
index 006ff30..6126f91 100644
--- a/cf/Documents/Встреча/Forms/ФормаДокумента/Ext/Form/Module.bsl
+++ b/cf/Documents/Встреча/Forms/ФормаДокумента/Ext/Form/Module.bsl
@@ -37,6 +37,8 @@
 	Взаимодействия.ЗаполнитьСписокВыбораВремени(Элементы.ВремяНачала, 1800);
 	Взаимодействия.ЗаполнитьСписокВыбораВремени(Элементы.ВремяОкончания, 1800);
 	
+	СобытияФорм.ПриСозданииНаСервере(ЭтотОбъект, Отказ, СтандартнаяОбработка, Параметры);
+	
 КонецПроцедуры
 
 &НаСервере
diff --git a/cf/Documents/ЗапланированноеВзаимодействие/Forms/ФормаДокумента/Ext/Form/Module.bsl b/cf/Documents/ЗапланированноеВзаимодействие/Forms/ФормаДокумента/Ext/Form/Module.bsl
index 551bb21..96ddc0f 100644
--- a/cf/Documents/ЗапланированноеВзаимодействие/Forms/ФормаДокумента/Ext/Form/Module.bsl
+++ b/cf/Documents/ЗапланированноеВзаимодействие/Forms/ФормаДокумента/Ext/Form/Module.bsl
@@ -32,6 +32,8 @@
 		МодульВерсионированиеОбъектов.ПриСозданииНаСервере(ЭтотОбъект);
 	КонецЕсли;
 	
+	СобытияФорм.ПриСозданииНаСервере(ЭтотОбъект, Отказ, СтандартнаяОбработка);
+	
 	ПриСозданииИПриЧтенииНаСервере();
 	
 КонецПроцедуры
diff --git a/cf/Documents/ТелефонныйЗвонок/Forms/ФормаДокумента/Ext/Form/Module.bsl b/cf/Documents/ТелефонныйЗвонок/Forms/ФормаДокумента/Ext/Form/Module.bsl
index 862370a..03cd0ee 100644
--- a/cf/Documents/ТелефонныйЗвонок/Forms/ФормаДокумента/Ext/Form/Module.bsl
+++ b/cf/Documents/ТелефонныйЗвонок/Forms/ФормаДокумента/Ext/Form/Module.bsl
@@ -40,6 +40,8 @@
 		МодульВерсионированиеОбъектов.ПриСозданииНаСервере(ЭтотОбъект);
 	КонецЕсли;
 	
+	СобытияФорм.ПриСозданииНаСервере(ЭтотОбъект, Отказ, СтандартнаяОбработка);
+	
 	ПриСозданииИПриЧтенииНаСервере();
 	
 	ВзаимодействияКлиентСервер.ПроверитьЗаполнениеКонтактов(Объект, ЭтотОбъект, "ТелефонныйЗвонок");
-- 
2.6.2.windows.1

